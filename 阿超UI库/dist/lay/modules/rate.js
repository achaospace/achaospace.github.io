/** byui-v2.5.4 MIT License By https://www.byui.com */
 ;byui.define("jquery",function(e){"use strict";var i=byui.jquery,a={config:{},index:byui.rate?byui.rate.index+1e4:0,set:function(e){var a=this;return a.config=i.extend({},a.config,e),a},on:function(e,i){return byui.onevent.call(this,t,e,i)}},n=function(){var e=this,i=e.config;return{setvalue:function(i){e.setvalue.call(e,i)},config:i}},t="rate",l="byui-rate",o="byui-icon-rate",s="byui-icon-rate-solid",u="byui-icon-rate-half",r="byui-icon-rate-solid byui-icon-rate-half",c="byui-icon-rate-solid byui-icon-rate",f="byui-icon-rate byui-icon-rate-half",v=function(e){var n=this;n.index=++a.index,n.config=i.extend({},n.config,a.config,e),n.render()};v.prototype.config={length:5,text:!1,readonly:!1,half:!1,value:0,theme:""},v.prototype.render=function(){var e=this,a=e.config,n=a.theme?'style="color: '+a.theme+';"':"";a.elem=i(a.elem),parseInt(a.value)!==a.value&&(a.half||(a.value=Math.ceil(a.value)-a.value<.5?Math.ceil(a.value):Math.floor(a.value)));for(var t='<ul class="byui-rate" '+(a.readonly?"readonly":"")+">",u=1;u<=a.length;u++){var r='<li class="byui-inline"><i class="byui-icon '+(u>Math.floor(a.value)?o:s)+'" '+n+"></i></li>";a.half&&parseInt(a.value)!==a.value&&u==Math.ceil(a.value)?t=t+'<li><i class="byui-icon byui-icon-rate-half" '+n+"></i></li>":t+=r}t+="</ul>"+(a.text?'<span class="byui-inline">'+a.value+"星":"")+"</span>";var c=a.elem,f=c.next("."+l);f[0]&&f.remove(),e.elemTemp=i(t),a.span=e.elemTemp.next("span"),a.setText&&a.setText(a.value),c.html(e.elemTemp),c.addClass("byui-inline"),a.readonly||e.action()},v.prototype.setvalue=function(e){var i=this,a=i.config;a.value=e,i.render()},v.prototype.action=function(){var e=this,a=e.config,n=e.elemTemp,t=n.find("i").width();n.children("li").each(function(e){var l=e+1,v=i(this);v.on("click",function(e){if(a.value=l,a.half){var o=e.pageX-i(this).offset().left;o<=t/2&&(a.value=a.value-.5)}a.text&&n.next("span").text(a.value+"星"),a.choose&&a.choose(a.value),a.setText&&a.setText(a.value)}),v.on("mousemove",function(e){if(n.find("i").each(function(){i(this).addClass(o).removeClass(r)}),n.find("i:lt("+l+")").each(function(){i(this).addClass(s).removeClass(f)}),a.half){var c=e.pageX-i(this).offset().left;c<=t/2&&v.children("i").addClass(u).removeClass(s)}}),v.on("mouseleave",function(){n.find("i").each(function(){i(this).addClass(o).removeClass(r)}),n.find("i:lt("+Math.floor(a.value)+")").each(function(){i(this).addClass(s).removeClass(f)}),a.half&&parseInt(a.value)!==a.value&&n.children("li:eq("+Math.floor(a.value)+")").children("i").addClass(u).removeClass(c)})})},v.prototype.events=function(){var e=this;e.config},a.render=function(e){var i=new v(e);return n.call(i)},e(t,a)});